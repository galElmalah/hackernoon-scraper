<figure><img alt src="https://cdn-images-1.medium.com/max/1024/1*NfPUYmXKR-duZ2vu9F6-Nw.png"></figure><p>We will go over the process of building a starter e-commerce mobile app for searching through a books datastore using React native. If you have never worked with React Native before, this can act as a kickstart to your mobile app development journey with Javascript! &#x1F389;</p><p>Some context first! It&#x2019;s 2018 and JavaScript is growing faster than ever before. The entire community has been working hard to make the web more and more accessible. Everything starting from the libraries and frameworks, to the dev tools required to build the apps, have matured gracefully. Sure, there has been some chaos amidst these improvements. But it is just fascinating that if you know JS today, you can build a web app, a backend server and even mobile&#xA0;apps.</p><p>React Native enables building native mobile apps using JavaScript and React. Unlike Cordova/Ionic/Phonegap that also lets you build mobile apps using JavaScript with WebViews, React Native compiles entirely to a native app and also allows writing native (Swift, Objective-C, Android) code when required.</p><h3>Things you need to know before getting started&#xA0;&#x1F476;</h3><p>You should have some (if not much) experience writing React. It is fairly easy to get started with and has <a href="https://github.com/enaqx/awesome-react#react-tutorials">good resources available online</a> that can help. If you are new to the subject, you can <a href="https://reactjs.org/tutorial/tutorial.html">start with the official tutorial</a>. And, if you prefer videos over text, I highly recommend <a href="https://medium.com/u/db72389e89d8">Kent C. Dodds</a>&#x2019;s free course on Egghead&#x200A;&#x2014;&#x200A;<a href="https://egghead.io/courses/the-beginner-s-guide-to-reactjs">The Beginner&#x2019;s Guide to&#xA0;ReactJS</a>.</p><blockquote>It&#x2019;d be best if you have a fair understanding of ES6+ as well. I&#x2019;ve got you covered with that. I wrote a <a href="https://github.com/metagrover/ES6-for-humans">kickstarter guide to writing ES6</a> which should put you on track in no time.&#xA0;&#x1F4AA;</blockquote><p>You don&#x2019;t necessarily have to spend a lot of time learning react and building web apps. <em>(Although I&#x2019;d recommend you to do that)</em>. But if you quickly want to get started with React Native, get yourself familiarised with React&#x2019;s basic fundamentals because React Native and React share the same core principles for building apps. They just target two different clients&#x200A;&#x2014;&#x200A;web and&#xA0;native.</p><p>Here, I want to highlight the fact that if you use React and React Native in production, you can end up with a lot of shared code across all the platforms (web, iOS and Android). This will enable you to maintain bigger projects with less development time and costs &#x1F609;. This is one of the reasons why React Native is starting to see industry wide adoption: Airbnb, Facebook, Instagram, Walmart, Tesla have their mobile apps built using&#xA0;RN.</p><h3>Basic Concepts&#xA0;&#x1F469;&#x200D;&#x1F393;</h3><p>Let&#x2019;s start by briefly discussing how React Native works and how the JavaScript code actually translates into a kickass native mobile&#xA0;app.</p><p>Any React Native application runs in two&#xA0;threads:</p><p><strong>1. Main&#xA0;thread</strong></p><p>This thread manages the user interface of your app and processes all the native interactions including gestures and touch. Since React Native also allows you to add in native code written in Android Java, Objective C or Swift, these chunks of code get executed on this&#xA0;thread.</p><p><strong>2. JavaScript thread</strong></p><p>This executes the JavaScript code that you write in a separate <em>JavaScript engine</em> (which is present in iOS by default and gets shipped to Android devices with the&#xA0;build).</p><p>For the application to work, these two threads need to talk to each other, which is what <strong>Bridge</strong> is&#xA0;for.</p><figure><img alt src="https://cdn-images-1.medium.com/max/535/1*QnLgyt1KLUy-X2pL2yBzbA.jpeg"><figcaption>React Native core architecture</figcaption></figure><p>Bridge, as the name suggests, helps in the data (message) transactions between the JavaScript thread and the Main Native thread. These messages can be asynchronous or batched. Bridge enables one&#x2019;s JavaScript code to talk to the native modules and interact with the device&#xA0;APIs.</p><p>Now that we have the basic understanding of react native architecture, let&#x2019;s get into the implementation details.</p><h3>Setting up the development environment &#x1F4BB;</h3><p><em>If you already have React Native installed and are familiar with the development ecosystem, you can skip ahead to the </em><a href="#0bd2"><em>next&#xA0;section</em></a><em>.</em></p><p>For those of you, who are just getting started, you can either <a href="https://facebook.github.io/react-native/docs/getting-started.html">follow the official setup guide here</a> (which is more detailed), or follow along with me&#xA0;here:</p><blockquote>Make sure you have <a href="https://nodejs.org"><em>node</em></a> installed in your&#xA0;system.</blockquote><p>We will be using the create-react-native-app (CRNA) tool for setting up the boilerplate.</p><pre><code class="language-markup">npm install -g create-react-native-app</code></pre><p>Then run the following commands to create a new React Native project, say HelloNative:</p><pre><code class="language-markup">create-react-native-app HelloNative</code></pre><pre><code class="language-markup">cd HelloNativenpm start</code></pre><p>This will start a development server for you, and print a QR code in your terminal.</p><blockquote>The only caveat of using <em>create-react-native-app</em> here is that it may not use the latest version of react-native. If that bothers you, you can use <a href="https://expo.io/tools#cli">Expo CLI</a> or <a href="https://expo.io/tools#xde">Expo XDE</a> which are also fairly simple to get started&#xA0;with.</blockquote><p>Next step is to install the <a href="https://expo.io/">Expo</a> client app on your iOS or Android phone and connect to the same wireless network as your computer. Using the Expo app, you can scan the above generated QR code from your terminal and open your project directly in your phone. How cool is&#xA0;that!</p><p>At this point, your app should look like&#xA0;this:</p><figure><img alt src="https://cdn-images-1.medium.com/max/1024/1*olehiS8kZWhblqYyXF8oRg.jpeg"><figcaption>React Native&#xA0;app</figcaption></figure><p>If you wish to run this app on an emulator, you can&#xA0;run:</p><p>npm run ios for iOS&#xA0;and,</p><p>npm run android for Android emulator.</p><p>This will install Expo client on the emulator and run your react-native app.</p><p>If you now open the developer menu in the app, you&#x2019;d see options to enable <em>Hot Reloading and Live Reload</em>. These allow you to reload your app instantly, which is a major advantage if you come from Android development background where it takes ages for gradle to finish building.</p><figure><img alt src="https://cdn-images-1.medium.com/max/1024/1*g4O20Dr5F8RXIXFiP3-rYg.jpeg"><figcaption>A closer look at the developer options</figcaption></figure><p>The developer options come bundled with debugging features as well. We will get into the details of it in the next&#xA0;section.</p><h3>Debugging and troubleshooting &#x2692;</h3><p>Debugging Remote JS feature in the developer menu allows us to browse through any console messages or errors in the browser. This comes super handy while you&#x2019;re building&#xA0;apps.</p><p>Additionally, you may want to install <a href="https://github.com/jhen0409/react-native-debugger">React Native debugger</a> while you&#x2019;re at&#xA0;it.</p><figure><img alt src="https://cdn-images-1.medium.com/max/1024/1*1Clv1jBIEoTaEkaX1p0lJQ.png"><figcaption>React Native Debugger in&#xA0;action</figcaption></figure><p>This is a nifty tool that allows us to browse through the component state and props tree in React Native apps. It also enables you to browse and edit the styles that are being applied to the components present in your app, serving as a replacement for chrome-dev-tools here.</p><h3>&#x1F50B; Batteries included</h3><p>React Native comes with a range of built-in components that you can use to build apps with. You can browse through the <a href="https://facebook.github.io/react-native/docs/components-and-apis.html">list of available components here</a> where in you will find some of these components to be platform specific&#x200A;&#x2014;&#x200A;under <a href="https://facebook.github.io/react-native/docs/components-and-apis.html#android-components-and-apis">Android specific</a> and <a href="https://facebook.github.io/react-native/docs/components-and-apis.html#ios-components-and-apis">iOS specific</a> sections.</p><p>These components will help you put together simple UIs for your app. Similar to web, React Native supports fetch enabling you to make http requests and get data from your&#xA0;server.</p><p>For our &#x1F4D7; booksearch app, we will be using Elasticsearch, which is a <a href="https://en.wikipedia.org/wiki/NoSQL">NoSQL</a> database which can search through large amounts of data in a short time. It performs a <a href="https://en.wikipedia.org/wiki/Full-text_search">full-text search</a> on the data which is stored in the form of documents (which are JSON objects) by examining all the words in every document.</p><p>Even if you&#x2019;ve never used Elasticsearch before, you should be able to follow along with this tutorial.</p><p>Elasticsearch may not seem like an easy thing to get started with. The setup, adding or viewing data and generating query can seem a bit overwhelming if you are a beginner. That&#x2019;s why, we, at <a href="https://appbase.io">Appbase</a>, have built some open-source tools to help you do all these things with the matter of some clicks&#xA0;&#x1F609;</p><ul><li>Tool to <strong>add data</strong> into Elasticsearch&#x200A;&#x2014;&#x200A;<a href="https://opensource.appbase.io/dejavu/importer/index.html">Importer</a>&#xA0;&#x1F5C3;</li><li>Tool to <strong>view Elasticsearch data</strong> like an excel sheet&#x200A;&#x2014;&#x200A;<a href="https://opensource.appbase.io/dejavu/">Data Browser</a>&#xA0;&#x1F440;</li><li>Tool to <strong>generate relevant Elasticsearch queries</strong>&#x200A;&#x2014;&#x200A;<a href="https://opensource.appbase.io/mirage/">Query Builder</a>&#xA0;&#x1F528;</li></ul><p>In this blog post, with the help of some of these tooling, we will utilize the strengths of Elasticsearch &#x26A1;&#xFE0F; with React Native to build a rich mobile bookstore app.</p><p>You can set up and install an Elasticsearch server by following the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_installation.html">official installation guide</a>, or you can create a free account at <a href="https://appbase.io">appbase.io</a> which provides Elasticsearch hosting as a service and is easy to use. For simplicity, we will be using appbase.io service to get started&#xA0;with.</p><p>I&#x2019;ve already created an appbase app with books dataset for simplicity. You can check out the dataset <a href="https://opensource.appbase.io/dejavu/live/#?input_state=XQAAAAKJAQAAAAAAAAA9iIqnY-B2BnTZGEQz6wkFsyzhBoa6J5YHVVPvvStg3duFL_9lBQxNAUEiS2LxrmQIi48IYsLycilGizdEqIf-Z3FUOIdIqHULMVrBqKtL5qUJx1gsOpt0WbuAhQS8qMoK8IdlqoG0tr-8UHi3sau8zMqY64fzpXCehrrPI4SNk8VTbiMsIZhduWAX4hCATwCBWfvrJqfAoiqKGt9zyTfsxLU7CbxGxE6__je7GeiC7UaPdD8YDeYC7eRxv-8JF1j3ysqY_Lkqc6hZAtUm9dN1Mg7O2uJ1MJxZyZWCmnz3ovLxz81T3C6KJZXI0OFjB5ll22UJm0iEaxN9NgY8yT9XOuK1k_90Fp4A&amp;editable=false">over&#xA0;here</a>.</p><figure><a href="https://opensource.appbase.io/dejavu/live/#?input_state=XQAAAAKJAQAAAAAAAAA9iIqnY-B2BnTZGEQz6wkFsyzhBoa6J5YHVVPvvStg3duFL_9lBQxNAUEiS2LxrmQIi48IYsLycilGizdEqIf-Z3FUOIdIqHULMVrBqKtL5qUJx1gsOpt0WbuAhQS8qMoK8IdlqoG0tr-8UHi3sau8zMqY64fzpXCehrrPI4SNk8VTbiMsIZhduWAX4hCATwCBWfvrJqfAoiqKGt9zyTfsxLU7CbxGxE6__je7GeiC7UaPdD8YDeYC7eRxv-8JF1j3ysqY_Lkqc6hZAtUm9dN1Mg7O2uJ1MJxZyZWCmnz3ovLxz81T3C6KJZXI0OFjB5ll22UJm0iEaxN9NgY8yT9XOuK1k_90Fp4A&amp;editable=false"><img alt src="https://cdn-images-1.medium.com/max/1024/1*rlPyWZhH7O0k5jRINyjYhA.png"></a><figcaption>Dataset of&#xA0;books</figcaption></figure><p>You can clone this dataset and generate credentials for your very own app by clicking on the <strong><em>Clone this app</em></strong> button on the bottom&#xA0;left.</p><p>These credentials will be used to connect our UI with this app. The credentials of the above app which we will be using in this tutorial&#xA0;are:</p><pre><code class="language-markup">{    app: &quot;good-books-ds&quot;,    credentials: &quot;nY6NNTZZ6:27b76b9f-18ea-456c-bc5e-3a5263ebc63d&quot;,    type: &quot;good-books-ds&quot;}</code></pre><h3>Say hello &#x1F44B; to Reactivesearch &#x1F50D;</h3><p>We will be using <a href="https://github.com/appbaseio/reactivesearch"><strong>ReactiveSearch</strong></a>, an open-source React and React Native UI components library for Elasticsearch that I am a contributor to. It offers a range of highly customizable rich UI components that can connect with any Elasticsearch server and provide you an appropriate default configuration for all generic use-cases (like E-commerce, Yelp, Meetups, etc) bundled into these components.</p><blockquote><strong>Wait, why do I need ReactiveSearch now?</strong></blockquote><blockquote>ReactiveSearch simplifies the entire process of connecting to an Elasticsearch index, making queries, fetching and rendering results in sleek UI, not just that, it also lets you make your components talk to each other, i.e. if Component-A gets updated, Component-B gets to know and it can update itself without needing any manual interaction.</blockquote><blockquote>This whole component-to-component subscription comes in handy when you have dynamic filters present on your screen, such as in case of e-commerce apps where Selecting a category of Appliances, also changes the sub-categories available, their prices and what&#xA0;not.</blockquote><blockquote>ReactiveSearch helps you create significantly smarter apps easily and in a declarative fashion.</blockquote><blockquote>Reactivesearch-native bundles a range of native UI components that enables you to build UIs like Airbnb, meetups, etc seamlessly. You can find <a href="https://opensource.appbase.io/reactive-manual/native/getting-started/componentsindex.html">the complete list of available components here</a>.</blockquote><figure><img alt src="https://cdn-images-1.medium.com/max/1024/1*tukhgLDbW8-i-oRKw_XQvQ.png"><figcaption>Reactivesearch Native Components</figcaption></figure><h3>Building the &#x1F4DA; BookSearch app</h3><p>First things first, we need to install reactivesearch-native in our React Native project by&#xA0;running:</p><pre><code class="language-markup">npm install @appbaseio/reactivesearch-native</code></pre><p>All the ReactiveSearch components are wrapped around a container component called <a href="https://opensource.appbase.io/reactive-manual/native/getting-started/reactivebase.html"><strong>ReactiveBase</strong></a> which connects our UI components with the Elasticsearch cluster.</p><p>We&#x2019;ll use this in&#xA0;App.js:</p><iframe src width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/55d535313eb058b6718f539b3c1a050b/href">https://medium.com/media/55d535313eb058b6718f539b3c1a050b/href</a></iframe><blockquote>Notice how we have used Flex based styling here. Styling in React Native is very much similar to that of web. If you&#x2019;ve no experience using flex, I highly recommend <a href="http://flexboxfroggy.com/">FlexBox Froggy</a> to begin&#xA0;with.</blockquote><p>Besides <strong>Stylesheet</strong>, we have used two other components from React Native in our code&#xA0;snippet:</p><ul><li><strong>View</strong> - This is similar to a div html element in React Native ecosystem. It is a container that supports layout with <a href="https://facebook.github.io/react-native/docs/flexbox.html">flexbox</a>, <a href="https://facebook.github.io/react-native/docs/style.html">style</a>, <a href="https://facebook.github.io/react-native/docs/handling-touches.html">some touch handling</a>, and <a href="https://facebook.github.io/react-native/docs/accessibility.html">accessibility</a> controls.</li><li><strong>Text</strong> - This is a simple native component for displaying text. You can read more about it&#xA0;<a href="https://facebook.github.io/react-native/docs/text.html">here</a>.</li></ul><p>For our BookSearch app, we will need two components from reactivesearch-native in our&#xA0;layout:</p><h4>1. Search box for searching the&#xA0;books:</h4><p>Here, we will use DataSearch component from reactivesearch-native. It creates a search UI component and enables us to search across one or more fields in our dataset easily. It looks like&#xA0;this:</p><pre><code class="language-markup">&lt;DataSearch    componentId=&quot;searchbox&quot;    dataField={[        &apos;original_title&apos;,        &apos;original_title.search&apos;,        &apos;authors&apos;,        &apos;authors.search&apos;,    ]}    placeholder=&quot;Search for books&quot;    autosuggest={false}/&gt;</code></pre><p>This <a href="https://opensource.appbase.io/reactive-manual/native/components/datasearch.html"><strong>DataSearch</strong></a> component queries on the given dataField(s) in the dataset. This component goes inside the ReactiveBase component and receives all the necessary data from it so we don&#x2019;t have to write Elasticsearch queries ourselves.</p><blockquote>Notice how we have used&#xA0;.search fields in our dataField prop here. authors.search is a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/multi-fields.html">multi-field</a> of the authors field. Elasticsearch can index the same data in different ways for different purposes, which we can use to get better search&#xA0;results.</blockquote><h4>2. Result List View for displaying the search&#xA0;results:</h4><p>For displaying results, we will be using ReactiveList component from reactivesearch-native. Here&#x2019;s what it looks&#xA0;like:</p><pre><code class="language-markup">&lt;ReactiveList    componentId=&quot;results&quot;    dataField=&quot;original_title&quot;    size={7}    showResultStats={false}    pagination={true}    react={{        and: &quot;searchbox&quot;    }}    onData={(res) =&gt; (        &lt;View style={styles.result}&gt;        &lt;Image source={{ uri: res.image }} style={styles.image} /&gt;        &lt;View style={styles.item}&gt;            &lt;Text style={styles.title}&gt;{res.original_title}&lt;/Text&gt;            &lt;Text&gt;{res.authors}&lt;/Text&gt;        &lt;/View&gt;        &lt;/View&gt;    )}/&gt;</code></pre><p>Here&#x2019;s how its props&#xA0;work:</p><ul><li>dataField: orders the results using name field&#xA0;here.</li><li>react: specifies that it should construct a query based on the current selected values of searchbox component. Every time the user changes the input value in the searchbox, a new query is fired&#x200A;&#x2014;&#x200A;you don&#x2019;t need to write a manual query for any of the UI components here, they are preset with a default config to meet all the generic use-cases, but if you wish, you can override it via customQuery prop.</li><li>onData: accepts a function which should return a valid <a href="https://reactjs.org/docs/glossary.html#jsx">JSX</a> representing a list-item in the result list. This prop will be used to render the list of&#xA0;results.</li></ul><p>You can read all about its prop usage&#xA0;<a href="https://opensource.appbase.io/reactive-manual/native/components/reactivelist.html">here</a>.</p><p>Reactivesearch is built on top of <a href="https://docs.nativebase.io/docs/GetStarted.html">native-base</a> &#x1F4AF; which uses some fonts which can be included by&#xA0;adding:</p><pre><code class="language-markup">async componentWillMount() {  await Expo.Font.loadAsync({    Roboto: require(&apos;native-base/Fonts/Roboto.ttf&apos;),    Roboto_medium: require(&apos;native-base/Fonts/Roboto_medium.ttf&apos;),    Ionicons: require(&apos;@expo/vector-icons/fonts/Ionicons.ttf&apos;),  });}</code></pre><p>With these components and some styling &#x1F485; magic, here&#x2019;s what our app looks&#xA0;like:</p><iframe src width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/06df7e2c65eaab585b9926f47476e671/href">https://medium.com/media/06df7e2c65eaab585b9926f47476e671/href</a></iframe><blockquote>Voila! You&#x2018;ve a BookSearch app that runs on Android &amp;&#xA0;iOS</blockquote><figure><img alt src="https://cdn-images-1.medium.com/max/1024/1*kBPZuczlQWtps9BMx6E3cw.jpeg"></figure><blockquote>If you wish to play around with this app on the fly, <a href="https://snack.expo.io/@metagrover/booksearch">try this snack here</a>&#xA0;&#x1F389;</blockquote><h3>Useful links</h3><ol><li><a href="https://github.com/appbaseio/reactivesearch">ReactiveSearch GitHub repo</a>&#xA0;&#x1F31F;</li><li><a href="https://opensource.appbase.io/reactive-manual/native/">ReactiveSearch docs</a></li></ol><p>Hope you enjoyed this tutorial. If you have any thoughts or suggestions, please let me know and do share your version of the app in the comments&#xA0;&#x1F609;</p><figure><a href="https://goo.gl/w4Pbea"><img alt src="https://cdn-images-1.medium.com/max/700/1*PZjwR1Nbluff5IMI6Y1T6g@2x.png"></a></figure>                <div class="archive-tags">                                        <a class="tag" href="https://hackernoon.com/tagged/react-native">React Native</a>                                        <a class="tag" href="https://hackernoon.com/tagged/coding">Coding</a>                                        <a class="tag" href="https://hackernoon.com/tagged/ecommerce-search-app">Ecommerce Search App</a>                                        <a class="tag" href="https://hackernoon.com/tagged/react">React</a>                                        <a class="tag" href="https://hackernoon.com/tagged/javascript">Javascript</a>                  </div>                <div class="twitter-discussion">          <a target="_blank" href="https://twitter.com/search?q=https%3A%2F%2Fhackernoon.com%2Fbuilding-an-e-commerce-search-app-with-react-native-2c87760a2315">Continue the discussion <i class="fab fa-twitter"></i></a>        </div>