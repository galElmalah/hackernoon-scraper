<img src="https://hackernoon.com/drafts/rpei4261.png">                                          <div class="paragraph">It&#x2019;s not like there aren&#x2019;t enough text editors. But consider this: with about 60 lines of code (that&#x2019;s close to nothing), you can make your own secure and stable text editor. It will be pretty simple and won&#x2019;t have many features, but it will be of your making, even if you barely know how to code.</div><div class="paragraph">It sounds like a perfect adventure.&#xA0;</div><h2>What I&#x2019;ll need</h2><div class="paragraph"><strong>HTML</strong> &#x2014; this is the language that is used to structure web pages. Your browser interprets HTML and renders a page based on its instructions. Our text editor will be a web page that will work in your browser.&#xA0;</div><div class="paragraph"><strong>JavaScript</strong> &#x2014; this language that allows you to dynamically manipulate things on your webpage, and even build whole web-based apps. Ever heard of Sla&#x441;k? Written entirely on JavaScript. Ever seen a web page with snow falling over the text? That snow, too, is JavaScript.&#xA0;</div><div class="paragraph"><strong>Localstorage</strong> &#x2014; your browser has a special block of memory that can be used to store data. It is restricted to a page (meaning, each page has its own isolated storage) and doesn&#x2019;t sync across different devices or browsers. I&#x2019;ll use this area to store our text.&#xA0;</div><div class="paragraph"><strong>Content Editable</strong> &#x2014; some blocks in HTML can have this property, which will allow users to edit what&#x2019;s inside that block. The changes will only be visible to the user (by default), but there will be changes nevertheless. Later, you can implement synchronization, so that other users see the edits as well.&#xA0;</div><h2>How this is going to work</h2><ol><li>I&#x2019;ll have a web page that contains an area, or a block. Because I want to keep it simple, I&#x2019;ll start with no design at all, just bare structure. I&#x2019;ll refine the visuals in the next version.</li><li>That block will be content-editable, meaning you can type into it.</li><li>In the background, there will be JavaScript, looking at what&#x2019;s going on inside the page. I will tell JavaScript to pay attention to whenever I press a key. When I press a key, JavaScript will save to localstorage whatever is in the editable block.</li><li>As a final touch, I&#x2019;ll add some lines of code that tell JavaScript to look for anything in Localstorage once the page loads. This will ensure that our text is recalled when I reload the page.&#xA0;</li></ol><div class="paragraph">The result will be a very simple-looking, yet a functional text editor with auto-save. You can quit and reload your browser, even restart your computer, and your text will stay there.&#xA0;</div><h2>Step 1. Housekeeping and groundwork</h2><div class="paragraph">First, I&#x2019;ll need an empty HTML page. There is a pinch of wizardry required to tell the browser that the document it&#x2019;s looking at is a web page. No need to remember this code, I just copied it from an HTML blank page template.</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code><span style="color:#e78c45">&lt;!DOCTYPE html&gt;</span><span style="color:#d54e53">&lt;<span style="color:#d54e53">html</span>&gt;</span> <span style="color:#d54e53">&lt;<span style="color:#d54e53">head</span>&gt;</span>   <span style="color:#d54e53">&lt;<span style="color:#d54e53">title</span>&gt;</span>My text editor<span style="color:#d54e53">&lt;/<span style="color:#d54e53">title</span>&gt;</span>  <span style="color:#969896">&lt;!-- Behold the three lines of wizardry --&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">meta</span> <span class="hljs-attr">charset</span>=<span style="color:#b9ca4a">&quot;utf-8&quot;</span>&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">meta</span> <span class="hljs-attr">http-equiv</span>=<span style="color:#b9ca4a">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span style="color:#b9ca4a">&quot;IE=edge&quot;</span>&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">meta</span> <span class="hljs-attr">name</span>=<span style="color:#b9ca4a">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span style="color:#b9ca4a">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">head</span>&gt;</span><span style="color:#d54e53">&lt;<span style="color:#d54e53">body</span>&gt;</span>  <span style="color:#969896">&lt;!-- here will be our block and then the script --&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">body</span>&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">html</span>&gt;</span></code></pre></div><div class="paragraph">This code literally tells the browser that it&#x2019;s looking at an HTML page (a web page, that is). It tells the browser the title of this page (the one you&#x2019;ll see in your tabs), then the language (UTF-8 means Unicode, or basically &#x2018;All languages in the World, I support them all&#x2019;), then some compliance and technical niceties, and then the body of the page.</div><div class="paragraph">The body at this moment is blank. But I&#x2019;ll need two things in our editor: some headline to tell the user where they are and the editor itself. Let&#x2019;s add these two lines of code in between the &lt;body&gt; and &lt;/body&gt;:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code><span style="color:#d54e53">&lt;<span style="color:#d54e53">h2</span>&gt;</span>Text editor with auto-save<span style="color:#d54e53">&lt;/<span style="color:#d54e53">h2</span>&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">div</span> <span class="hljs-attr">id</span>=<span style="color:#b9ca4a">&quot;editor&quot;</span> <span class="hljs-attr">style</span>=<span style="color:#b9ca4a">&quot;height: 100%; width: 70%; border: solid; border-width: 1px; padding 15px;&quot;</span>&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">div</span>&gt;</span></code></pre></div><div class="paragraph">The first line is heading. H2 stands for &#x2018;Heading of the second level&#x2019;. In our case, the level doesn&#x2019;t make sense, but I just like how it looks.&#xA0;</div><div class="paragraph">The second line is a little more complicated. Let&#x2019;s break it down:</div><ul><li><strong>div</strong> stands for &#x2018;division&#x2019;, or just a block. Some virtual objects on-page. As such, it means nothing and does nothing, but programmers use divs all the time because they can make divs do all sorts of things.&#xA0;</li><li><strong>id=&quot;editor&quot;</strong> lets me call that div by its name from the script I write</li><li><strong>style=...</strong> sets some boundaries to the div. As such, the div takes as much space as its contents, but since our contents are currently zero, the div will be of zero size, too. So I force it to be 50% of the page&#x2019;s width and 100% of the page&#x2019;s height. BE HUGE, I tell the div. I also draw a small border around it, so I can see it. And add a small padding inside the div so that our text doesn&#x2019;t run up straight to the black box. A page gotta have margins.&#xA0;</li></ul><div class="paragraph">I can also go to the top of the page and add some code to Style. Try to make sense of this yourself, it&#x2019;s fairly legible. Hint: &#x2018;body&#x2019; means &#x2018;all page&#x2019;:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code><span style="color:#d54e53">&lt;<span style="color:#d54e53">style</span> <span class="hljs-attr">type</span>=<span style="color:#b9ca4a">&quot;text/css&quot;</span>&gt;</span><span class="css">    <span style="color:#c397d8">body</span>{      <span style="color:#e7c547">text-align</span>: left;      <span style="color:#e7c547">margin</span>: <span style="color:#e78c45">10</span>;      <span style="color:#e7c547">font-family</span>: Verdana, Arial, sans-serif;      <span style="color:#e7c547">font-size</span>: <span style="color:#e78c45">16px</span>;    }  </span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">style</span>&gt;</span></code></pre></div><div class="paragraph">If I save now as an HTML file, I&#x2019;ll just have a rectangle on white background, and some headline. Nothing will work just yet.</div><div class="image-container"><img src="https://hackernoon.com/photos/wqn8FTTUlabc0wgqLiB1u2A5wgr1-b05x2g6w" alt></div><h2>Step 2. Content Editable</h2><div class="paragraph">I need to make our div content-editable. This is achieved surprisingly easy, you just add a property to the div:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">div</span> <span class="hljs-attr">id</span>=<span style="color:#b9ca4a">&quot;editor&quot;</span> <span class="hljs-attr">contenteditable</span>=<span style="color:#b9ca4a">&quot;true&quot;</span> <span class="hljs-attr">style</span>=<span style="color:#b9ca4a">&quot;height: 100%; width: 70%; border: solid; border-width: 1px; padding 15px;&quot;</span>&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">div</span>&gt;</span></code></pre></div><div class="paragraph">You heard it right. You just say contenteditable=&quot;true&quot;. Now save and reload, and WHOA YOU CAN TYPE IN THE BOX. If you reload the page, though, all you&#x2019;ve written will be gone. Let&#x2019;s fix that.&#xA0;</div><h2>Step 3. JavaScript lurking</h2><div class="paragraph">To add JavaScript behavior to page, I need to put the code between the &lt;script&gt;...&lt;/script&gt; tags. I can also write the entire script in a separate file and link to it from our page, but with the script this small, it makes no sense. I&#x2019;ll just write our entire program inside the web page.&#xA0;</div><div class="paragraph">What I want now:</div><ol><li>Listen to key presses</li><li>When a key is pressed, save the contents of our div by the name of &#x2018;Editor&#x2019; into Local Storage. Name that local storage item &#x2018;text_in_editor&#x2019; for future reference</li></ol><div class="paragraph">See how this code looks:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code>&lt;script&gt;    <span style="color:#e78c45">document</span>.addEventListener(<span style="color:#b9ca4a">&apos;keydown&apos;</span>, <span class="hljs-function"><span style="color:#c397d8">function</span>(<span style="color:#e78c45">e</span>) </span>{      localStorage.setItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>,   <span style="color:#e78c45">document</span>.getElementById(<span style="color:#b9ca4a">&apos;editor&apos;</span>).innerHTML);    });  <span class="xml"><span style="color:#d54e53">&lt;/<span style="color:#d54e53">script</span>&gt;</span></span></code></pre></div><div class="paragraph">The last part can be confusing with all the dots. JavaScript can be ugly like that. If I translated it, though, it would mean this:&#xA0;<em>&#x2018;In Local storage, create an item. Call that item &#x2018;text_in_editor&#x2019;. </em>For its contents, go here: document, in the document, get an element with id &#x2018;editor&#x2019;, and look inside its HTML. See that HTML? Get it and put it in local storage&#x2019;</div><div class="paragraph">If you save the code and reload the page now, nothing will seem to work though. If you reload your text editor, you lose your text. The reason is this: our script saves the text into Local storage, but it doesn&#x2019;t retrieve anything from it at any time: not at loading, not at refreshing. It&#x2019;s like buying canned goods, storing them in a cabinet and never actually eating them. Also, the cabinet is infinitely huge and invisible.</div><div class="paragraph">So at this point, everything is actually working, just not in a way that&#x2019;s useful to me. That&#x2019;s not surprising since I didn&#x2019;t tell it to work in a way that&#x2019;s useful. Let&#x2019;s fix this in step 4.</div><h2>Step 4. Retrieve from local storage</h2><div class="paragraph">Before I add an event listener in JavaScript, let&#x2019;s run this algorithm:</div><ol><li>See if there&#x2019;s anything in local storage under the name &#x2018;text_in_editor&#x2019;.</li><li>If there is something, load it</li><li>If not, whatever, move on</li></ol><div class="paragraph">Here is how this reads in JavaScript:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code><span style="color:#c397d8">if</span> (localStorage.getItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>) !== <span style="color:#e78c45">null</span>) {        <span style="color:#e78c45">document</span>.getElementById(<span style="color:#b9ca4a">&apos;editor&apos;</span>).innerHTML = localStorage.getItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>);      }</code></pre></div><div class="paragraph">The last line means this: <em>&#x2018;Go to Local storage, get the item with the name text_in_editor, take its contents and put those contents into the document, inside the element with id editor&#x2019;</em>. The &#x2018;put inside&#x2019; part is done by the equation sign =. In JavaScript, equation means assign, or simply put somewhere. For example:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code>someNumber = <span style="color:#e78c45">5</span>; <span style="color:#969896">// this means put &#x2018;5&#x2019; into the memory slot under the name &apos;someNumber&apos;</span>otherNumber = someNumber; <span style="color:#969896">//this means take whatever&#x2019;s in someNumber and put that into the memory under the name otherNumber. Basically it&#x2019;s copying</span></code></pre></div><div class="paragraph">Now look again at our code of the text editor. Observe what is put where. Look at the parts to the right and to the left of the equation sign:</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code><span style="color:#e78c45">document</span>.getElementById(<span style="color:#b9ca4a">&apos;editor&apos;</span>).innerHTML = localStorage.getItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>);</code></pre></div><div class="paragraph">o the right is what is being assigned (from where I take stuff). To the right is where I assign, or where I put that stuff.&#xA0;</div><div class="paragraph">As a side note, I AM DONE :-)</div><div class="paragraph">The code will work the way I wanted, check this out:&#xA0;</div><h2>Final code</h2><div class="paragraph">Copy, paste in a regular text editor, save as HTML and open in browser, and voil&#xE1;! There is the text box, you can type in it, it saves to Local storage, then when you reload the page, it loads from local storage.</div><div class="code-container"><pre style="display:block;overflow-x:auto;background:black;color:#eaeaea;padding:30px"><code><span style="color:#e78c45">&lt;!DOCTYPE html&gt;</span><span style="color:#d54e53">&lt;<span style="color:#d54e53">html</span>&gt;</span> <span style="color:#d54e53">&lt;<span style="color:#d54e53">head</span>&gt;</span>   <span style="color:#d54e53">&lt;<span style="color:#d54e53">title</span>&gt;</span>My text editor<span style="color:#d54e53">&lt;/<span style="color:#d54e53">title</span>&gt;</span><span style="color:#969896">&lt;!-- The three following lines &#x2014; trust me &#x2014; we need this--&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">meta</span> <span class="hljs-attr">charset</span>=<span style="color:#b9ca4a">&quot;utf-8&quot;</span>&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">meta</span> <span class="hljs-attr">http-equiv</span>=<span style="color:#b9ca4a">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span style="color:#b9ca4a">&quot;IE=edge&quot;</span>&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">meta</span> <span class="hljs-attr">name</span>=<span style="color:#b9ca4a">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span style="color:#b9ca4a">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span>   <span style="color:#969896">&lt;!-- some minimal design (not necessary)--&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">style</span> <span class="hljs-attr">type</span>=<span style="color:#b9ca4a">&quot;text/css&quot;</span>&gt;</span><span class="css">    <span style="color:#c397d8">body</span>{      <span style="color:#e7c547">text-align</span>: left;      <span style="color:#e7c547">margin</span>: <span style="color:#e78c45">10</span>;      <span style="color:#e7c547">font-family</span>: Verdana, Arial, sans-serif;      <span style="color:#e7c547">font-size</span>: <span style="color:#e78c45">16px</span>;    }  </span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">style</span>&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">head</span>&gt;</span><span style="color:#d54e53">&lt;<span style="color:#d54e53">body</span>&gt;</span>  <span style="color:#969896">&lt;!-- heading --&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">h2</span>&gt;</span>Text editor with auto-save<span style="color:#d54e53">&lt;/<span style="color:#d54e53">h2</span>&gt;</span>   <span style="color:#969896">&lt;!-- here be our editable area &#x2192;  &lt;div id=&quot;editor&quot; contenteditable=&quot;true&quot; style=&quot;height: 100%; width: 70%; border: solid; border-width: 1px; padding 15px;&quot;&gt;&lt;/div&gt;   &lt;!-- Here be our script --&gt;</span>  <span style="color:#d54e53">&lt;<span style="color:#d54e53">script</span>&gt;</span><span class="javascript">    <span style="color:#969896">// If there&apos;s anything in the storage</span>    <span style="color:#c397d8">if</span> (localStorage.getItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>) !== <span style="color:#e78c45">null</span>) {         <span style="color:#969896">// ...then show it</span>        <span style="color:#e78c45">document</span>.getElementById(<span style="color:#b9ca4a">&apos;editor&apos;</span>).innerHTML = localStorage.getItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>);      }    <span style="color:#969896">// listen to key presses</span>    <span style="color:#e78c45">document</span>.addEventListener(<span style="color:#b9ca4a">&apos;keydown&apos;</span>, <span class="hljs-function"><span style="color:#c397d8">function</span>(<span style="color:#e78c45">e</span>) </span>{      <span style="color:#969896">// once a key is pressed, save whatever&apos;s in our box to localstorage</span>      localStorage.setItem(<span style="color:#b9ca4a">&apos;text_in_editor&apos;</span>, <span style="color:#e78c45">document</span>.getElementById(<span style="color:#b9ca4a">&apos;editor&apos;</span>).innerHTML);    });  </span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">script</span>&gt;</span> <span style="color:#d54e53">&lt;/<span style="color:#d54e53">body</span>&gt;</span><span style="color:#969896">&lt;!-- That&apos;s all folks --&gt;</span><span style="color:#d54e53">&lt;/<span style="color:#d54e53">html</span>&gt;</span></code></pre></div><div class="image-container"><img src="https://hackernoon.com/photos/wqn8FTTUlabc0wgqLiB1u2A5wgr1-pmju2gqa" alt></div><h2>What&#x2019;s next</h2><div class="paragraph">Oh, next I&#x2019;ll make this thing beautiful. Stay tuned! </div>                    <h2 class="tags-header">Tags</h2>          <div class="archive-tags">                                                <a class="tag" href="https://hackernoon.com/tagged/javascript">Javascript</a>                                                <a class="tag" href="https://hackernoon.com/tagged/html">Html</a>                                                <a class="tag" href="https://hackernoon.com/tagged/css">Css</a>                                                <a class="tag" href="https://hackernoon.com/tagged/programming">Programming</a>                                                <a class="tag" href="https://hackernoon.com/tagged/tutorial-for-beginners">Tutorial For Beginners</a>                                                <a class="tag" href="https://hackernoon.com/tagged/coding">Coding</a>                                                <a class="tag" href="https://hackernoon.com/tagged/beginners">Beginners</a>                                                <a class="tag" href="https://hackernoon.com/tagged/tutorial">Tutorial</a>                      </div>                                        <div class="twitter-discussion">            <a target="_blank" href="https://community.hackernoon.com/t/20853">Continue the Discussion <i class="fas fa-comments-alt"></i></a>          </div>